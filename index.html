<!DOCTYPE html>
<html lang="et">
<head>
<meta charset="UTF-8">
<title>Minu Restorani Menüü</title>

<style>
body { 
    font-family: 'Georgia', serif; 
    background-color: #fdfaf6; 
    color: #333; 
    text-align: center; 
    padding: 50px; 
}

.menu-container { 
    max-width: 600px; 
    margin: 0 auto; 
    border: 2px solid #d4af37; 
    padding: 30px; 
    border-radius: 15px; 
    background: white; 
}

.item { 
    display: flex; 
    justify-content: space-between; 
    margin: 10px 0; 
    font-size: 18px; 
}

.price {
    font-weight: bold;
    color: #d4af37;
}

.loading {
    font-style: italic;
    color: gray;
}
</style>
</head>

<body>

<div class="menu-container">
    <h1>Päevamenüü</h1>
    <div id="menu-items">
        <p class="loading">Laen maitsvaid roogasid...</p>
    </div>
</div>

<script>

// Näidis API URL (asenda oma backendiga)
const API_URL = "menu.json"; 
// Kui sul on päris server, pane näiteks:
// const API_URL = "https://sinu-server.ee/api/menu";

async function laeMenyy() {
    try {
        const response = await fetch(API_URL + "?t=" + new Date().getTime()); 
        // "?t=" lisab cache-bypass, et brauser ei kasutaks vana versiooni

        const andmed = await response.json();

        let html = "";

        andmed.forEach(toit => {
            html += `
                <div class="item">
                    <span>${toit.nimi}</span>
                    <span class="price">${toit.hind} €</span>
                </div>
            `;
        });

        document.getElementById("menu-items").innerHTML = html;

    } catch (viga) {
        document.getElementById("menu-items").innerHTML = 
            "Viga menüü laadimisel. Palun proovi uuesti.";
        console.error(viga);
    }
}

// Lae kohe lehe avamisel
laeMenyy();

// Uuenda iga 10 sekundi tagant
setInterval(() => {
    laeMenyy();
}, 10000);

</script>

</body>
</html>
